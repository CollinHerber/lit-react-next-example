import{h as a}from"../../assets/index-chunk.js";import{n as o}from"../../assets/index-chunk2.js";import{i as h}from"../../assets/index-chunk10.js";import{K as d}from"../../consts/key-constants.js";import{g as c}from"../../utils/string-utils.js";import"../../assets/index-chunk8.js";var u=Object.defineProperty,s=(l,e,i,p)=>{for(var t=void 0,f=l.length-1,n;f>=0;f--)(n=l[f])&&(t=n(e,i,t)||t);return t&&u(e,i,t),t};class r extends a{constructor(){super(...arguments),this.referenceId="",this.placement="top-end",this.xOffset=0,this.yOffset=0,this._tooltipRef=h(),this._forceOpen=!1,this.tooltipId=c()}firstUpdated(){var i;if(this._tooltipRef.value&&(this._tooltipRef.value.style.visibility="visible",this._tooltipRef.value.style.opacity="0"),!this.referenceId)return;const e=document.querySelector(`#${this.referenceId}`);e&&(e.setAttribute("aria-describedby",((i=this._tooltipRef.value)==null?void 0:i.id)||""),e.addEventListener("click",()=>this.toggleTooltip()),e.addEventListener("mouseenter",()=>this.showTooltip()),e.addEventListener("mouseleave",()=>this.hideTooltip()),e.addEventListener("focusin",()=>this.showTooltip()),e.addEventListener("focusout",()=>this.hideTooltip()),e.addEventListener("keydown",p=>{p.key===d.ESCAPE&&(this._forceOpen=!1,this.hideTooltip())}))}toggleTooltip(){this._forceOpen=!this._forceOpen,this._forceOpen?this.showTooltip():this.hideTooltip()}disconnectedCallback(){this._cleanup&&this._cleanup()}showTooltip(){this.assignPosition(),this._tooltipRef.value&&(this._tooltipRef.value.style.visibility="visible",this._tooltipRef.value.style.opacity="1")}hideTooltip(){this._forceOpen||this._tooltipRef.value&&(this._tooltipRef.value.style.visibility="hidden",this._tooltipRef.value.style.opacity="0")}assignPosition(){}}s([o({attribute:"reference-id"})],r.prototype,"referenceId");s([o()],r.prototype,"placement");s([o({type:Number,attribute:"x-offset"})],r.prototype,"xOffset");s([o({type:Number,attribute:"y-offset"})],r.prototype,"yOffset");export{r as N};
