const Ft="div[role=tooltip]{position:absolute;width:max-content;top:0;left:0;visibility:hidden;opacity:0;transition:opacity .2s}#floating{position:absolute;width:max-content;top:0;left:0}",X=Math.min,S=Math.max,H=Math.round,V=Math.floor,T=t=>({x:t,y:t});function J(t){return t.split("-")[0]}function ct(t){return t.split("-")[1]}function lt(t){return t==="x"?"y":"x"}function ft(t){return t==="y"?"height":"width"}function Q(t){return["top","bottom"].includes(J(t))?"y":"x"}function ut(t){return lt(Q(t))}function Z(t){const{x:e,y:o,width:n,height:i}=t;return{width:n,height:i,top:o,left:e,right:e+n,bottom:o+i,x:e,y:o}}function q(t,e,o){let{reference:n,floating:i}=t;const l=Q(e),r=ut(e),s=ft(r),f=J(e),c=l==="y",u=n.x+n.width/2-i.width/2,a=n.y+n.height/2-i.height/2,p=n[s]/2-i[s]/2;let d;switch(f){case"top":d={x:u,y:n.y-i.height};break;case"bottom":d={x:u,y:n.y+n.height};break;case"right":d={x:n.x+n.width,y:a};break;case"left":d={x:n.x-i.width,y:a};break;default:d={x:n.x,y:n.y}}switch(ct(e)){case"start":d[r]-=p*(o&&c?-1:1);break;case"end":d[r]+=p*(o&&c?-1:1);break}return d}const at=async(t,e,o)=>{const{placement:n="bottom",strategy:i="absolute",middleware:l=[],platform:r}=o,s=l.filter(Boolean),f=await(r.isRTL==null?void 0:r.isRTL(e));let c=await r.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:a}=q(c,n,f),p=n,d={},x=0;for(let h=0;h<s.length;h++){const{name:m,fn:g}=s[h],{x:w,y:R,data:F,reset:L}=await g({x:u,y:a,initialPlacement:n,placement:p,strategy:i,middlewareData:d,rects:c,platform:r,elements:{reference:t,floating:e}});u=w??u,a=R??a,d={...d,[m]:{...d[m],...F}},L&&x<=50&&(x++,typeof L=="object"&&(L.placement&&(p=L.placement),L.rects&&(c=L.rects===!0?await r.getElementRects({reference:t,floating:e,strategy:i}):L.rects),{x:u,y:a}=q(c,p,f)),h=-1)}return{x:u,y:a,placement:p,strategy:i,middlewareData:d}};function W(t){return tt(t)?(t.nodeName||"").toLowerCase():"#document"}function y(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function E(t){var e;return(e=(tt(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function tt(t){return t instanceof Node||t instanceof y(t).Node}function b(t){return t instanceof Element||t instanceof y(t).Element}function C(t){return t instanceof HTMLElement||t instanceof y(t).HTMLElement}function U(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof y(t).ShadowRoot}function k(t){const{overflow:e,overflowX:o,overflowY:n,display:i}=v(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+o)&&!["inline","contents"].includes(i)}function dt(t){return["table","td","th"].includes(W(t))}function M(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function P(t){const e=Y(),o=b(t)?v(t):t;return o.transform!=="none"||o.perspective!=="none"||(o.containerType?o.containerType!=="normal":!1)||!e&&(o.backdropFilter?o.backdropFilter!=="none":!1)||!e&&(o.filter?o.filter!=="none":!1)||["transform","perspective","filter"].some(n=>(o.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(o.contain||"").includes(n))}function ht(t){let e=O(t);for(;C(e)&&!N(e);){if(P(e))return e;if(M(e))return null;e=O(e)}return null}function Y(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function N(t){return["html","body","#document"].includes(W(t))}function v(t){return y(t).getComputedStyle(t)}function z(t){return b(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function O(t){if(W(t)==="html")return t;const e=t.assignedSlot||t.parentNode||U(t)&&t.host||E(t);return U(e)?e.host:e}function et(t){const e=O(t);return N(e)?t.ownerDocument?t.ownerDocument.body:t.body:C(e)&&k(e)?e:et(e)}function B(t,e,o){var n;e===void 0&&(e=[]),o===void 0&&(o=!0);const i=et(t),l=i===((n=t.ownerDocument)==null?void 0:n.body),r=y(i);if(l){const s=$(r);return e.concat(r,r.visualViewport||[],k(i)?i:[],s&&o?B(s):[])}return e.concat(i,B(i,[],o))}function $(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function nt(t){const e=v(t);let o=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=C(t),l=i?t.offsetWidth:o,r=i?t.offsetHeight:n,s=H(o)!==l||H(n)!==r;return s&&(o=l,n=r),{width:o,height:n,$:s}}function j(t){return b(t)?t:t.contextElement}function D(t){const e=j(t);if(!C(e))return T(1);const o=e.getBoundingClientRect(),{width:n,height:i,$:l}=nt(e);let r=(l?H(o.width):o.width)/n,s=(l?H(o.height):o.height)/i;return(!r||!Number.isFinite(r))&&(r=1),(!s||!Number.isFinite(s))&&(s=1),{x:r,y:s}}const gt=T(0);function ot(t){const e=y(t);return!Y()||!e.visualViewport?gt:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function pt(t,e,o){return e===void 0&&(e=!1),!o||e&&o!==y(t)?!1:e}function A(t,e,o,n){e===void 0&&(e=!1),o===void 0&&(o=!1);const i=t.getBoundingClientRect(),l=j(t);let r=T(1);e&&(n?b(n)&&(r=D(n)):r=D(t));const s=pt(l,o,n)?ot(l):T(0);let f=(i.left+s.x)/r.x,c=(i.top+s.y)/r.y,u=i.width/r.x,a=i.height/r.y;if(l){const p=y(l),d=n&&b(n)?y(n):n;let x=p,h=$(x);for(;h&&n&&d!==x;){const m=D(h),g=h.getBoundingClientRect(),w=v(h),R=g.left+(h.clientLeft+parseFloat(w.paddingLeft))*m.x,F=g.top+(h.clientTop+parseFloat(w.paddingTop))*m.y;f*=m.x,c*=m.y,u*=m.x,a*=m.y,f+=R,c+=F,x=y(h),h=$(x)}}return Z({width:u,height:a,x:f,y:c})}function mt(t){let{elements:e,rect:o,offsetParent:n,strategy:i}=t;const l=i==="fixed",r=E(n),s=e?M(e.floating):!1;if(n===r||s&&l)return o;let f={scrollLeft:0,scrollTop:0},c=T(1);const u=T(0),a=C(n);if((a||!a&&!l)&&((W(n)!=="body"||k(r))&&(f=z(n)),C(n))){const p=A(n);c=D(n),u.x=p.x+n.clientLeft,u.y=p.y+n.clientTop}return{width:o.width*c.x,height:o.height*c.y,x:o.x*c.x-f.scrollLeft*c.x+u.x,y:o.y*c.y-f.scrollTop*c.y+u.y}}function wt(t){return Array.from(t.getClientRects())}function it(t){return A(E(t)).left+z(t).scrollLeft}function yt(t){const e=E(t),o=z(t),n=t.ownerDocument.body,i=S(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),l=S(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let r=-o.scrollLeft+it(t);const s=-o.scrollTop;return v(n).direction==="rtl"&&(r+=S(e.clientWidth,n.clientWidth)-i),{width:i,height:l,x:r,y:s}}function xt(t,e){const o=y(t),n=E(t),i=o.visualViewport;let l=n.clientWidth,r=n.clientHeight,s=0,f=0;if(i){l=i.width,r=i.height;const c=Y();(!c||c&&e==="fixed")&&(s=i.offsetLeft,f=i.offsetTop)}return{width:l,height:r,x:s,y:f}}function bt(t,e){const o=A(t,!0,e==="fixed"),n=o.top+t.clientTop,i=o.left+t.clientLeft,l=C(t)?D(t):T(1),r=t.clientWidth*l.x,s=t.clientHeight*l.y,f=i*l.x,c=n*l.y;return{width:r,height:s,x:f,y:c}}function K(t,e,o){let n;if(e==="viewport")n=xt(t,o);else if(e==="document")n=yt(E(t));else if(b(e))n=bt(e,o);else{const i=ot(t);n={...e,x:e.x-i.x,y:e.y-i.y}}return Z(n)}function rt(t,e){const o=O(t);return o===e||!b(o)||N(o)?!1:v(o).position==="fixed"||rt(o,e)}function vt(t,e){const o=e.get(t);if(o)return o;let n=B(t,[],!1).filter(s=>b(s)&&W(s)!=="body"),i=null;const l=v(t).position==="fixed";let r=l?O(t):t;for(;b(r)&&!N(r);){const s=v(r),f=P(r);!f&&s.position==="fixed"&&(i=null),(l?!f&&!i:!f&&s.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||k(r)&&!f&&rt(t,r))?n=n.filter(u=>u!==r):i=s,r=O(r)}return e.set(t,n),n}function Rt(t){let{element:e,boundary:o,rootBoundary:n,strategy:i}=t;const r=[...o==="clippingAncestors"?M(e)?[]:vt(e,this._c):[].concat(o),n],s=r[0],f=r.reduce((c,u)=>{const a=K(e,u,i);return c.top=S(a.top,c.top),c.right=X(a.right,c.right),c.bottom=X(a.bottom,c.bottom),c.left=S(a.left,c.left),c},K(e,s,i));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function Lt(t){const{width:e,height:o}=nt(t);return{width:e,height:o}}function Ct(t,e,o){const n=C(e),i=E(e),l=o==="fixed",r=A(t,!0,l,e);let s={scrollLeft:0,scrollTop:0};const f=T(0);if(n||!n&&!l)if((W(e)!=="body"||k(i))&&(s=z(e)),n){const a=A(e,!0,l,e);f.x=a.x+e.clientLeft,f.y=a.y+e.clientTop}else i&&(f.x=it(i));const c=r.left+s.scrollLeft-f.x,u=r.top+s.scrollTop-f.y;return{x:c,y:u,width:r.width,height:r.height}}function I(t){return v(t).position==="static"}function G(t,e){return!C(t)||v(t).position==="fixed"?null:e?e(t):t.offsetParent}function st(t,e){const o=y(t);if(M(t))return o;if(!C(t)){let i=O(t);for(;i&&!N(i);){if(b(i)&&!I(i))return i;i=O(i)}return o}let n=G(t,e);for(;n&&dt(n)&&I(n);)n=G(n,e);return n&&N(n)&&I(n)&&!P(n)?o:n||ht(t)||o}const Et=async function(t){const e=this.getOffsetParent||st,o=this.getDimensions,n=await o(t.floating);return{reference:Ct(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Tt(t){return v(t).direction==="rtl"}const Ot={convertOffsetParentRelativeRectToViewportRelativeRect:mt,getDocumentElement:E,getClippingRect:Rt,getOffsetParent:st,getElementRects:Et,getClientRects:wt,getDimensions:Lt,getScale:D,isElement:b,isRTL:Tt};function At(t,e){let o=null,n;const i=E(t);function l(){var s;clearTimeout(n),(s=o)==null||s.disconnect(),o=null}function r(s,f){s===void 0&&(s=!1),f===void 0&&(f=1),l();const{left:c,top:u,width:a,height:p}=t.getBoundingClientRect();if(s||e(),!a||!p)return;const d=V(u),x=V(i.clientWidth-(c+a)),h=V(i.clientHeight-(u+p)),m=V(c),w={rootMargin:-d+"px "+-x+"px "+-h+"px "+-m+"px",threshold:S(0,X(1,f))||1};let R=!0;function F(L){const _=L[0].intersectionRatio;if(_!==f){if(!R)return r();_?r(!1,_):n=setTimeout(()=>{r(!1,1e-7)},1e3)}R=!1}try{o=new IntersectionObserver(F,{...w,root:i.ownerDocument})}catch{o=new IntersectionObserver(F,w)}o.observe(t)}return r(!0),l}function St(t,e,o,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:l=!0,elementResize:r=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,c=j(t),u=i||l?[...c?B(c):[],...B(e)]:[];u.forEach(g=>{i&&g.addEventListener("scroll",o,{passive:!0}),l&&g.addEventListener("resize",o)});const a=c&&s?At(c,o):null;let p=-1,d=null;r&&(d=new ResizeObserver(g=>{let[w]=g;w&&w.target===c&&d&&(d.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var R;(R=d)==null||R.observe(e)})),o()}),c&&!f&&d.observe(c),d.observe(e));let x,h=f?A(t):null;f&&m();function m(){const g=A(t);h&&(g.x!==h.x||g.y!==h.y||g.width!==h.width||g.height!==h.height)&&o(),h=g,x=requestAnimationFrame(m)}return o(),()=>{var g;u.forEach(w=>{i&&w.removeEventListener("scroll",o),l&&w.removeEventListener("resize",o)}),a==null||a(),(g=d)==null||g.disconnect(),d=null,f&&cancelAnimationFrame(x)}}const Dt=(t,e,o)=>{const n=new Map,i={platform:Ot,...o},l={...i.platform,_c:n};return at(t,e,{...i,platform:l})};export{St as a,Dt as c,Ft as t};
